{"version":3,"sources":["components/common/FormsControls/FormsControls.js","redux/dialogs-reducer.js","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/My Posts/Post/Post.module.css","components/Sidebar/Sidebar.module.css","utils/validators/validators.js","components/Users/Users.module.css","components/Sidebar/Sidebar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/img/user.png","components/Users/User/User.jsx","components/Users/Users.jsx","assets/img/preloader.svg","components/common/Preloader/Preloader.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","redux/profile-reducer.js","components/Header/HeaderContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/My Posts/Post/Post.jsx","components/Profile/My Posts/MyPosts.jsx","components/Profile/My Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","reportWebVitals.js","index.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/Login/Login.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/FormsControls/FormsControls.module.css","components/Profile/My Posts/MyPosts.module.css"],"names":["Textarea","input","meta","props","hasError","touched","error","className","classes","formControl","Input","createField","placeholder","name","validators","component","text","validate","SEND_MESSAGE","initialState","dialogsData","id","messageData","message","sendMessage","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","required","value","maxLengthCreator","maxLength","length","Sidebar","sidebar","link","to","activeClassName","active","News","Music","Settings","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unfollowUser","delete","profileAPI","status","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","securityAPI","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUserCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","button","onClick","void","p","selectedPage","page","notSelectedPage","e","User","user","unfollow","follow","userLeftBlock","userPhoto","src","photos","small","userFollow","disabled","some","userContent","userInfo","userName","userStatus","Users","Preloader","preloader","alt","createSelector","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","Component","compose","connect","bind","Header","header","logo","isAuth","loginBlock","userLogin","login","btnLogin","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","setStatus","getUserProfile","profileReducer","newPost","newPostText","postId","HeaderContainer","auth","profilePage","ProfileStatusWithHooks","editMode","setEditMode","useEffect","onDoubleClick","statusInput","autoFocus","onBlur","updateStatus","onChange","currentTarget","maxLength20","ProfileDataReduxForm","reduxForm","form","handleSubmit","ProfileDataForm","onSubmit","info","fullNameEditMode","fullNameTitle","aboutMe","aboutMeTitle","job","jobDescriptions","jobDescriptionsTitle","contacts","Object","keys","key","btnEditModeSave","formSummaryError","ProfileData","isOwner","goToEditMode","profileData","fullName","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","btnEditMode","Contact","contact","ProfileInfo","savePhoto","saveProfile","body","image","imageUser","large","inputWrapper","inputFile","target","files","for","inputFileButton","inputFileButtonText","initialValues","Post","item","maxLength10","MyPostsReduxForm","Field","entryField","btnAdd","MyPosts","memo","postsElements","values","addPost","MyPostsContainer","Profile","store","ProfileContainer","match","params","authorizedUserId","history","getStatus","refreshProfile","prevProps","prevState","snapshot","file","getState","stopSubmit","_error","messages","Promise","reject","withRouter","LoginReduxForm","captcha","INITIALIZED_SUCCESS","initialized","appReducer","friends","ava","sidebarReducer","reducers","combineReducers","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","exact","path","render","from","fallback","AppContainer","promise","all","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.769b9194.chunk.js","sourcesContent":["import React from \"react\"\r\nimport classes from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return(\r\n        <div>\r\n            <div>\r\n                <textarea{...input} {...props} className={classes.formControl + '' + (hasError ? classes.error : '')}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={classes.formControl + '' + (hasError ? classes.error : '')}>\r\n            <div>\r\n                <input{...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               component={component}\r\n               validate={validators}\r\n               {...props}/>{text}\r\n    </div>)","const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {name: \"Dimych\", id: 1},\r\n        {name: \"Andrey\", id: 2},\r\n        {name: \"Sveta\", id: 3},\r\n        {name: \"Sasha\", id: 4},\r\n        {name: \"Victor\", id: 5},\r\n        {name: \"Valera\", id: 6}\r\n    ],\r\n        messageData: [\r\n    {message: \"Hi\"},\r\n    {message: \"Hellolp[]l[]l\"},\r\n    {message: \"Yo\"}\r\n]\r\n}\r\n\r\nconst dialogsReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage = {\r\n                message: action.newMessageBody,\r\n            }\r\n            return {\r\n                ...state,messageData: [...state.messageData, newMessage]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__V0RPB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2Qov3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2kxmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1hvgF\",\"link\":\"Sidebar_link__15uUN\",\"active\":\"Sidebar_active__kdsxv\"};","export const required = value => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) =>{\r\n    if (value.length>maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__JMxwx\",\"user\":\"Users_user__2-VZs\",\"userLeftBlock\":\"Users_userLeftBlock__1CICJ\",\"userPhoto\":\"Users_userPhoto__1Ldfk\",\"userFollow\":\"Users_userFollow__1ZXxp\",\"userContent\":\"Users_userContent__34qyy\",\"userInfo\":\"Users_userInfo__2G4_W\",\"userName\":\"Users_userName__2spMA\",\"userStatus\":\"Users_userStatus__3_yaB\",\"userLocation\":\"Users_userLocation___9bf-\",\"userCountry\":\"Users_userCountry__33uN8\",\"userCity\":\"Users_userCity__1K_-h\"};","import classes from './Sidebar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n// import FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\nconst Sidebar = (props) => {\r\n    return(\r\n        <aside className={classes.sidebar}>\r\n            <div className={classes.link}><NavLink to='/profile' activeClassName={classes.active} >Profile</NavLink></div>\r\n            <div className={classes.link}><NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink></div>\r\n            <div className={classes.link}><NavLink to='/users' activeClassName={classes.active}>Users</NavLink></div>\r\n            <div className={classes.link}><NavLink to='/news' activeClassName={classes.active}>News</NavLink></div>\r\n            <div className={classes.link}><NavLink to='/music' activeClassName={classes.active}>Music</NavLink></div>\r\n            <div className={classes.link}><NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink></div>\r\n            {/*<FriendsContainer/>*/}\r\n        </aside>\r\n    )\r\n};\r\nexport default Sidebar;","import classes from './News.module.css';\r\nconst News = (props) => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n};\r\nexport default News;","import classes from './Music.module.css';\r\nconst Music = (props) => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n};\r\nexport default Music;","import classes from './Settings.module.css';\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>Settings</div>\r\n    )\r\n};\r\nexport default Settings;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials:true,\r\n    headers: {\r\n        \"API-KEY\": \"99b92852-12a3-4e30-8f17-f5dd26672b7a\"\r\n    }\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage=1, pageSize=10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    followUser(userId) {\r\n        return instance.post(`/follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollowUser(userId) {\r\n        return instance.delete(`/follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,{status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData\r\n        formData.append('image', photoFile)\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`,profile)\r\n    }\r\n}\r\nexport const authAPI = {\r\n    authUser() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe=false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUserCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n\r\n        const response = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(response.items))\r\n        dispatch(setTotalUsersCount(response.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch,userId,apiMethod,actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    const response = await apiMethod(userId)\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.followUser.bind(usersAPI),followSuccess)\r\n\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.unfollowUser.bind(usersAPI),unfollowSuccess)\r\n\r\n}\r\n\r\nexport default usersReducer","import classes from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount/pageSize)\r\n    const pages = []\r\n    for (let i=1; i<=pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber,setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return(\r\n            <div className={classes.paginator}>\r\n                {portionNumber > 1\r\n                ? <button className={classes.button} onClick={() => {setPortionNumber(portionNumber-1) }}>Prev</button>\r\n                : <div className={classes.void}></div>}\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber )\r\n                    .map((p)=> {\r\n                    return <span className={currentPage === p ? classes.selectedPage +' '+ classes.page\r\n                        : classes.notSelectedPage +' '+ classes.page} key={p}\r\n                                 onClick={(e) =>{onPageChanged(p)}}>{p}</span>\r\n                })}\r\n                {portionCount > portionNumber\r\n                ? <button className={classes.button} onClick={() => {setPortionNumber(portionNumber+1)}}>Next</button>\r\n                : <div className={classes.void}></div>}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport  default Paginator","export default \"data:image/png;base64,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\"","import classes from \"../Users.module.css\";\r\nimport userPhoto from \"../../../assets/img/user.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user,followingInProgress,unfollow,follow}) => {\r\n    return(\r\n        <div className={classes.user}>\r\n            <div className={classes.userLeftBlock}>\r\n                <div className={classes.userPhoto}>\r\n                    <NavLink to={'/profile/'+user.id}>\r\n                        <img src={user.photos.small!=null\r\n                            ?user.photos.small\r\n                            :userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={classes.userFollow}>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id=>id===user.id)}\r\n                                  onClick={() => {unfollow(user.id)}\r\n                                  }>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id=>id===user.id)}\r\n                                  onClick={() => {follow(user.id)}\r\n                                  }>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={classes.userContent}>\r\n                <div className={classes.userInfo}>\r\n                    <div className={classes.userName}>{user.name}</div>\r\n                    <div className={classes.userStatus}>{user.status}</div>\r\n                </div>\r\n                {/*<div className={classes.userLocation}>*/}\r\n                {/*    <div className={classes.userCountry}>{'user.location.country'},</div>*/}\r\n                {/*    <div className={classes.userCity}>{'user.location.city'}</div>*/}\r\n                {/*</div>*/}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default User","import classes from \"./Users.module.css\";\r\nimport React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = ({totalUserCount, pageSize, currentPage, onPageChanged, users,  ...props}) => {\r\n    return(\r\n        <div>\r\n            <Paginator totalItemsCount={totalUserCount}\r\n                       pageSize={pageSize}\r\n                       currentPage={currentPage}\r\n                       onPageChanged={onPageChanged}/>\r\n            <div className={classes.users}>\r\n                {\r\n                    users.map(u => <User user={u}\r\n                                         key={u.id}\r\n                                         followingInProgress={props.followingInProgress}\r\n                                         unfollow={props.unfollow}\r\n                                         follow={props.follow}/>)\r\n                }\r\n             </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default Users","export default __webpack_public_path__ + \"static/media/preloader.055c0963.svg\";","import classes from \"./Preloader.module.css\";\r\nimport preloader from \"../../../assets/img/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n    return(\r\n        <div className={classes.preloader}>\r\n            <img  src={preloader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader","import { createSelector } from 'reselect'\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersSelector,(users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUserCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow,unfollow, requestUsers,\r\n    setCurrentPage,toggleFollowingProgress\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const{currentPage,pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        const{pageSize} = this.props\r\n        this.props.getUsers(pageNumber,pageSize)\r\n    }\r\n    render(){\r\n        return (\r\n            <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUserCount={this.props.totalUserCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{\r\n    follow,unfollow,setCurrentPage,toggleFollowingProgress,getUsers: requestUsers\r\n}))(UsersContainer)","import classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.logo}><span>Social</span>Network</div>\r\n            <div>\r\n                {props.isAuth\r\n                    ? <div className={classes.loginBlock}>\r\n                        <div className={classes.userLogin}>\r\n                            <div className={classes.login}>{props.login}</div>\r\n                            <div className={classes.email}>{props.email}</div>\r\n                        </div>\r\n                        <div className={classes.btnLogin}>\r\n                            <button className={classes.btnLogin}\r\n                            onClick={props.logout}>LOG OUT</button>\r\n                        </div>\r\n                    </div>\r\n                    : <div className={classes.btnLogin}>\r\n                        <NavLink to={'/login'}>LOG IN</NavLink>\r\n                    </div>}\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login:null,\r\n    isAuth:false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId,email,login,isAuth) => ({type: SET_USER_DATA, payload:{userId,email,login,isAuth}})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload:{captchaUrl}})\r\n\r\nexport  const getAuthUserData = () => async(dispatch) => {\r\n    const response = await authAPI.authUser()\r\n        if(response.resultCode===0) {\r\n            let {id,email,login} = response.data\r\n            dispatch(setAuthUserData(id,email,login,true))\r\n        }\r\n}\r\n\r\nexport  const login = (email, password,rememberMe, captcha) => async(dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha)\r\n            if(response.resultCode===0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n            if (response.resultCode===10) {\r\n                dispatch(getCaptchaUrl())\r\n                }\r\n                let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n                dispatch(stopSubmit('login', {_error:message}))\r\n            }\r\n}\r\n\r\nexport  const getCaptchaUrl = () => async(dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess (captchaUrl))\r\n}\r\n\r\nexport  const logout = () => async(dispatch) => {\r\n    const response = await authAPI.logout()\r\n            if(response.resultCode===0) {\r\n                dispatch(setAuthUserData(null,null,null,false))\r\n            }\r\n}\r\n\r\nexport default authReducer","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 0, message: \"Hi\", likesCount: 0},\r\n        {id: 1, message: \"Hello\", likesCount: 10},\r\n        {id: 2, message: \"Aloha\", likesCount: 15}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state, posts: [...state.posts, newPost]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: {...state.profile, photos:action.photos}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    }else {\r\n        dispatch(stopSubmit('editProfile', {_error:response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {getUserProfile} from \"../../redux/profile-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        email: state.auth.email,\r\n        profile: state.profilePage.profile\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{logout,getUserProfile})(HeaderContainer)","import classes from './ProfileInfo.module.css'\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.status}>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '----'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input className={classes.statusInput}\r\n                        autoFocus={true}\r\n                       onBlur={deactivateEditMode}\r\n                       onChange={onStatusChange}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks","import classes from \"./ProfileInfo.module.css\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return(\r\n        <form className={classes.ProfileDataForm} onSubmit={handleSubmit}>\r\n            <div className={classes.info}>\r\n                <div className={classes.fullNameEditMode}>\r\n                    <div className={classes.fullNameTitle}>\r\n                        full name:\r\n                    </div>\r\n                {createField ('Full name', 'fullName', [required, maxLength20], Input)}\r\n                </div>\r\n                <div className={classes.aboutMe}>\r\n                    <div className={classes.aboutMeTitle}>\r\n                        about me:\r\n                    </div>\r\n                    {createField ('About me', 'aboutMe', [required], Textarea)}\r\n                </div>\r\n                <div className={classes.job}>\r\n                    Looking for a job :\r\n                    {createField ('', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n                    {/*{profile.lookingForAJob ? \"Ищу \" : \"Не ищу \"} работу*/}\r\n                </div>\r\n                <div className={classes.jobDescriptions}>\r\n                    <div className={classes.jobDescriptionsTitle}>\r\n                        my professional skills:\r\n                    </div>\r\n                    {createField ('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n                </div>\r\n            </div>\r\n            <div className={classes.contacts}>\r\n                Contacts:\r\n                {Object.keys(profile.contacts).map(key => {\r\n                    return <div key={key}>\r\n                        {key}: {createField (key, 'contacts.'+key, [], Input)}\r\n                    </div>\r\n                })}\r\n            </div>\r\n            <div className={classes.editMode}>\r\n                <div><button className={classes.btnEditModeSave}>save</button></div>\r\n                {error && <div className={classes.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n                }\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'editProfile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import classes from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/img/user.png\";\r\nimport {useState} from \"react\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\n\r\nconst ProfileInfo = ({profile,status,updateStatus,isOwner,savePhoto, saveProfile}) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    if(!profile){\r\n        return <Preloader/>\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            () => {\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className={classes.body}>\r\n            <div className={classes.image}>\r\n                <div className={classes.imageUser}>\r\n                    <img src={profile.photos.large || userPhoto}/>\r\n                    {isOwner && <div className={classes.inputWrapper}>\r\n                        <input className={classes.inputFile} type={'file'} name={'file'} id={'inputFile'} onChange={onMainPhotoSelected}/>\r\n                        <label for={'inputFile'} className={classes.inputFileButton}>\r\n                            <span className={classes.inputFileButtonText}>Выберите файл</span>\r\n                        </label>\r\n                    </div>}\r\n                </div>\r\n                <div className={classes.status}>\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                </div>\r\n            </div>\r\n            { editMode\r\n                ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={()=>{setEditMode(true)}}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return(\r\n        <div className={classes.profileData}>\r\n            <div className={classes.info}>\r\n                <div className={classes.fullName}>\r\n                    {profile.fullName}\r\n                </div>\r\n                <div className={classes.aboutMe}>\r\n                    <div className={classes.aboutMeTitle}>\r\n                        about me:\r\n                    </div>\r\n                    {profile.aboutMe}\r\n                </div>\r\n                <div className={classes.job}>\r\n                    {profile.lookingForAJob ? \" \" : \"not \"} looking for a job\r\n                </div>\r\n                <div className={classes.jobDescriptions}>\r\n                    {profile.lookingForAJobDescription}\r\n                </div>\r\n            </div>\r\n            <div className={classes.contacts}>\r\n                {Object.keys(profile.contacts).map(key => {\r\n                    return <Contact  key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n                })}\r\n            </div>\r\n            {isOwner && <div className={classes.editMode}>\r\n                <button className={classes.btnEditMode} onClick={goToEditMode}>edit</button>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n\r\n    if(!contactValue) {\r\n        return <div className={classes.void}></div>\r\n    }else {\r\n        return (\r\n            <div className={classes.contact}>\r\n                <div className={classes.contactTitle}>\r\n                    {contactTitle}\r\n                </div>\r\n                <div className={classes.contactValue}>\r\n                    {contactValue}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n                <div className={classes.item}>\r\n                    <img src=\"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\" />\r\n                    {props.message}\r\n                    <div>\r\n                        like\r\n                        <span>{props.likesCount}</span>\r\n                    </div>\r\n                </div>\r\n\r\n    )\r\n};\r\nexport default Post;","import classes from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport React from 'react'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPostsForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name='newPostText'\r\n                       component={Textarea}\r\n                       validate={[required,maxLength10]}\r\n                       className={classes.entryField}/>\r\n            </div>\r\n            <div>\r\n                <button className={classes.btnAdd}>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({form: 'myPostsForm'})(MyPostsForm)\r\n\r\nconst MyPosts = React.memo(props => {\r\n    const postsElements = props.profilePage.posts.map(post => <Post key={post.id} message={post.message}\r\n                                                                    likesCount={post.likesCount}/>)\r\n    const addNewPost = (values) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>My post</h3>\r\n            <MyPostsReduxForm onSubmit={addNewPost}/>\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n})\r\n\r\nexport default MyPosts;","import React from 'react'\r\nimport {addPost} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts)\r\nexport default MyPostsContainer;","import classes from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./My Posts/MyPostsContainer\";\r\nimport React from \"react\";\r\nconst Profile = (props) => {\r\n    return(\r\n        <main className={classes.profile}>\r\n            <ProfileInfo profile={props.profile}\r\n                         isOwner={props.isOwner}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}/>\r\n            <MyPostsContainer store={props.store}/>\r\n        </main>\r\n    )\r\n};\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, updateStatus, saveProfile} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\n// import {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nclass ProfileContainer  extends React.Component{\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if(!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if(!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Profile {...this.props}\r\n                isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(connect(mapStateToProps,{getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer)","import {Field, reduxForm} from 'redux-form';\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n// import classes from '../common/FormsControls/FormsControls.module.css'\r\nimport classes from './Login.module.css'\r\n\r\nconst LoginForm = ({handleSubmit,error,captchaUrl}) => {\r\n    return(\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={classes.login}>{createField('Email','email', [required], Input)}</div>\r\n                <div className={classes.password}>{createField('password','password', [required], Input)}</div>\r\n                <div className={classes.rememberMe}>{createField(null,'rememberMe', [], Input, {type:'checkbox'}, 'remember me')}</div>\r\n\r\n                {captchaUrl && <img src={captchaUrl}/>}\r\n                {captchaUrl && createField('symbols from image','captcha', [required], Input, {},)}\r\n\r\n                {error && <div className={classes.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n                }\r\n                <div>\r\n                    <button className={classes.btnLogin}>LOG IN</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if(props.isAuth) {\r\n        return <Redirect to ={'/profile'}/>\r\n    }\r\n    return(\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        isAuth:state.auth.isAuth,\r\n        captchaUrl:state.auth.captchaUrl\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {login})(Login)","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized:false\r\n}\r\n\r\nconst appReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized:true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport  const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n            .then(()=>{\r\n        dispatch(initializedSuccess())\r\n        })\r\n}\r\n\r\nexport default appReducer","\r\nlet initialState = {\r\n    friends:\r\n        [\r\n            {\r\n                ava: \"https://illustrators.ru/uploads/illustration/image/1232594/main_%D1%8B%D1%8B%D1%8B%D1%8B.png\",\r\n                name: 'Andrew'\r\n            },\r\n            {\r\n                ava: \"https://shutniki.club/wp-content/uploads/2019/12/ava_dlya_zhenschiny_3_22073642.jpg\",\r\n                name: 'Sasha'\r\n            },\r\n            {ava: \"https://www.blast.hk/attachments/74776/\", name: 'Sveta'}\r\n        ]\r\n}\r\n\r\nconst sidebarReducer = (state=initialState, action) => {\r\n    return state\r\n}\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    dialogsPage:dialogsReducer,\r\n    usersPage:usersReducer,\r\n    sidebar:sidebarReducer,\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    app:appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import './App.css'\nimport Sidebar from \"./components/Sidebar/Sidebar\"\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\"\nimport News from \"./components/News/News\"\nimport Music from \"./components/Music/Music\"\nimport Settings from \"./components/Settings/Settings\"\nimport React, {Suspense} from \"react\"\nimport UsersContainer from \"./components/Users/UsersContainer\"\nimport HeaderContainer from \"./components/Header/HeaderContainer\"\nimport ProfileContainer from \"./components/Profile/ProfileContainer\"\nimport Login from \"./components/Login/Login\"\nimport {connect, Provider} from \"react-redux\"\nimport {compose} from \"redux\"\nimport {initializeApp} from \"./redux/app-reducer\"\nimport Preloader from \"./components/common/Preloader/Preloader\"\nimport store from \"./redux/redux-store\"\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\n\n// const ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\nclass App extends React.Component {\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\n        alert(promiseRejectionEvent)\n    }\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if(!this.props.initialized){\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Sidebar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/' render={()=><Redirect from=\"/\" to=\"/profile\" />}/>\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                        <Route path='/dialogs' render={() => <Suspense fallback={<div>Loading...</div>}>\n                            <DialogsContainer />\n                        </Suspense>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/news' component={News}/>\n                        <Route path='/music' component={Music}/>\n                        <Route path='/settings' component={Settings}/>\n                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\n\nconst AppContainer = compose(withRouter,\n    connect(mapStateToProps,{initializeApp}))(App)\n\nconst MainApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n}\n\nexport default MainApp\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport MainApp from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n    <MainApp/>, document.getElementById('root')\n)\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2B3Aj\",\"page\":\"Paginator_page__DNlj8\",\"selectedPage\":\"Paginator_selectedPage__6bDeQ\",\"notSelectedPage\":\"Paginator_notSelectedPage__2kFwc\",\"button\":\"Paginator_button__3U1LX\",\"void\":\"Paginator_void__1kCxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1okeO\",\"logo\":\"Header_logo__3tVCu\",\"loginBlock\":\"Header_loginBlock__2oU9f\",\"userLogin\":\"Header_userLogin__1zd92\",\"userId\":\"Header_userId__j_ppz\",\"login\":\"Header_login__29q0i\",\"email\":\"Header_email__1GWP4\",\"btnLogin\":\"Header_btnLogin__35nNv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__ZHSa-\",\"password\":\"Login_password__3HiHE\",\"rememberMe\":\"Login_rememberMe__22KOt\",\"btnLogin\":\"Login_btnLogin__1uqpd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"ProfileInfo_body__rYova\",\"imageUser\":\"ProfileInfo_imageUser__Mq7qT\",\"inputWrapper\":\"ProfileInfo_inputWrapper__1DCKX\",\"inputFile\":\"ProfileInfo_inputFile__3Ny9t\",\"inputFileButtonText\":\"ProfileInfo_inputFileButtonText__2C-4y\",\"status\":\"ProfileInfo_status__OyrE1\",\"statusInput\":\"ProfileInfo_statusInput__3ErOD\",\"profileData\":\"ProfileInfo_profileData__24JCN\",\"ProfileDataForm\":\"ProfileInfo_ProfileDataForm__2LG5z\",\"fullNameTitle\":\"ProfileInfo_fullNameTitle__2SjF2\",\"aboutMeTitle\":\"ProfileInfo_aboutMeTitle__3iH9P\",\"job\":\"ProfileInfo_job__1F_eo\",\"jobDescriptionsTitle\":\"ProfileInfo_jobDescriptionsTitle__3Haaq\",\"contacts\":\"ProfileInfo_contacts__3SmzG\",\"contact\":\"ProfileInfo_contact__3xSLP\",\"contactTitle\":\"ProfileInfo_contactTitle__1GEnF\",\"contactValue\":\"ProfileInfo_contactValue__1EU8m\",\"void\":\"ProfileInfo_void__2OOmO\",\"editMode\":\"ProfileInfo_editMode__3oUl-\",\"btnEditMode\":\"ProfileInfo_btnEditMode__sHBMd\",\"info\":\"ProfileInfo_info__2JvM-\",\"fullName\":\"ProfileInfo_fullName__1XaF_\",\"aboutMe\":\"ProfileInfo_aboutMe__2LyW0\",\"btnEditModeSave\":\"ProfileInfo_btnEditModeSave__1-dkU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__39a5H\",\"error\":\"FormsControls_error__2_Q_-\",\"formSummaryError\":\"FormsControls_formSummaryError__2dm9K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnAdd\":\"MyPosts_btnAdd__1ADlY\",\"entryField\":\"MyPosts_entryField__1W9o5\"};"],"sourceRoot":""}